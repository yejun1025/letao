<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./public/m/lib/mui/css/mui.css">
    <script src="./public/m/js/rem.js"></script>
</head>

<body>
    <!--下拉刷新容器-->
    <div id="refreshContainer" class="mui-content mui-scroll-wrapper">
        <div class="mui-scroll">
            <!--数据列表-->
            <ul class="mui-table-view mui-table-view-chevron">
                <li>第1个li</li>
                <li>第2个li</li>
                <li>第3个li</li>
                <li>第4个li</li>
                <li>第5个li</li>
                <li>第6个li</li>
                <li>第7个li</li>
                <li>第8个li</li>
                <li>第9个li</li>
                <li>第10个li</li>
            </ul>
        </div>
    </div>
    <script src="./public/m/lib/mui/js/mui.js"> </script>
    <script>
        mui.init({
            pullRefresh: {
                container: "#refreshContainer", //下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
                down: {
                    height: 50, //可选,默认50.触发下拉刷新拖动距离,
                    auto: false, //可选,默认false.首次加载自动下拉刷新一次
                    contentdown: "你正在下拉", //可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
                    contentover: "拉到底了你可以松手了", //可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
                    contentrefresh: "正在拼命刷新中...", //可选，正在刷新状态时，下拉刷新控件上显示的标题内容
                    callback: function () {//必选
                        // 模拟请求过程写了一个延迟的定时器 让结束代码延迟2秒钟执行
                        setTimeout(function () {
                            /* 注意官网文档的结束下拉刷新的代码有错 现在新版本MUI已经更新为 endPulldownToRefresh函数了
                              使用最新的endPulldownToRefresh结束下拉刷新 */
                            // mui('#refreshContainer').pullRefresh().endPulldown();
                            // 做数据请求刷新页面 业务要你自己写 数据刷新完成后要结束下拉加载的效果
                            mui('#refreshContainer').pullRefresh().endPulldownToRefresh();
                        }, 2000);
                    }
                },
                up: {
                    height: 50, //可选.默认50.触发上拉加载拖动距离
                    auto: false, //可选,默认false.自动上拉加载一次
                    contentrefresh: "正在加载...", //可选，正在加载状态时，上拉加载控件上显示的标题内容
                    contentnomore: '没有更多数据了', //可选，请求完毕若没有更多数据时显示的提醒内容；
                    callback: function () {
                        // 模拟请求过程写了一个延迟的定时器 让结束代码延迟2秒钟执行
                        setTimeout(function () {                            
                            // 结束上拉加载 但是还有数据
                            mui('#refreshContainer').pullRefresh().endPullupToRefresh();
                            // 结束上拉加载 并且提示没有更多数据了
                            mui('#refreshContainer').pullRefresh().endPullupToRefresh(true);
                        }, 2000);
                    }
                }
            }
        });
    </script>
</body>

</html>